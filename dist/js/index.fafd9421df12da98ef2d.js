(()=>{var e={747:()=>{document.querySelectorAll(".button__tab__first").forEach((function(e){e.addEventListener("click",(function(){for(var t=document.getElementsByClassName(e.classList[0]),n=document.getElementsByClassName(e.classList[1]),o=0;o<t.length;o++)t[o].className=t[o].className.replace(" button__tab__first_active","");for(var a=0;a<n.length;a++)n[a].className+=" button__tab__first_active";localStorage.setItem("buisness_tabcontent_tab_active",e.classList[1])}))}))},112:()=>{function e(e){localStorage.setItem("theme",e),document.documentElement.className=e}var t=document.getElementsByClassName("header__user__switch-input");t[0].addEventListener("click",(function(t){"theme-dark"===localStorage.getItem("theme")?e("theme-light"):e("theme-dark")})),"theme-dark"===localStorage.getItem("theme")?(e("theme-dark"),t[0].checked=!1):(e("theme-light"),t[0].checked=!0),document.getElementsByClassName("header__user__arrow")[0].addEventListener("click",(function(e){e.target.parentElement.parentElement.classList.toggle("header__user__container_menu-visibale")})),document.getElementsByClassName("header__user__link_leave-site")[0].addEventListener("click",(function(e){!0===confirm("Вы уверены, что хотите выйти?")&&(window.location="https://dev.proektit.ru")}))}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";n(112),n(747);var e=document.querySelectorAll(".modal__moving"),t=0;function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,c=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw c}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}e.forEach((function(e){e.addEventListener("click",(function(e){t+=1,e.target.offsetParent.offsetParent.style.zIndex=t}))}));var r=document.getElementById("shipment_modal"),c=document.getElementById("shipment_close"),s=document.getElementById("shipment_button"),l=document.getElementById("shipment_button_sub"),i=document.getElementById("task_contragents"),u=[],d=[],m=[],f=[];c.addEventListener("click",(function(){r.style.display="none",v()})),function(e){var t=0,n=0,o=0,a=0;function r(e){(e=e||window.event).preventDefault(),o=e.clientX,a=e.clientY,document.onmouseup=s,document.onmousemove=c}function c(r){(r=r||window.event).preventDefault(),t=o-r.clientX,n=a-r.clientY,o=r.clientX,a=r.clientY,e.style.top=e.offsetTop-n+"px",e.style.left=e.offsetLeft-t+"px"}function s(){document.onmouseup=null,document.onmousemove=null}document.getElementById(e.id+"_moving")?document.getElementById(e.id+"_moving").onmousedown=r:e.onmousedown=r}(r),window.onclick=function(e){e.target==r&&(v(),r.style.display="none")};var v=function(){localStorage.clear(),u.length=0,d.length=0,m.length=0,f.length=0;var e=document.getElementById("shipment_main_tb_modal"),t=document.createElement("tbody");t.id="shipment_tb_modal",e.replaceChild(t,e.getElementsByTagName("tbody")[0])};s.addEventListener("click",(function(){" "===i.value?alert("Вы не выбрали контрагента!"):(localStorage.setItem("contragent_uin",i.value),_(tb_sets,"input_set_",u,d,"zapros_set_value"),_(tb_products,"input_product_",m,f,"zapros_product_value"),r.style.display="block")})),l.addEventListener("click",(function(){alert("Таблица отгрузки на разработке!")}));var _=function(e,t,n,a,r){var c,s=o(e.getElementsByClassName("checkbox"));try{for(s.s();!(c=s.n()).done;){var l=c.value;if(!0===l.checked){var i=document.getElementById("".concat(t).concat(l.name)),u={},d={};u.uin=l.name,u.count=i.value,d.name=l.value,d.count=i.value,n.push(u),a.push(d)}}}catch(e){s.e(e)}finally{s.f()}console.log(n),localStorage.setItem(r,JSON.stringify(n)),p(a)},p=function(e){for(var t in e){var n=e[t],o=n.name,a=n.count;g(o,a,"shipment_tb_modal")}},g=function(e,t,n){var o=document.getElementById(n).insertRow(-1);o.classList="tr";var a=o.insertCell(0);a.classList="td";var r=o.insertCell(1);r.classList="td",a.innerHTML=e,r.innerHTML=t},y=function(e,t){var n,o=new XMLHttpRequest,a=JSON.stringify(e);o.responseType="text",o.onload=function(){if(4===o.readyState)if(200===o.status)try{n=JSON.parse(o.responseText),t(1,n)}catch(e){console.log(e)}else t(0,null)},o.onerror=function(){console.log("Ошибка соединения!"),t(0,null)},o.open("POST","https://apitw.avantguard.pro:32100/json"),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(a)},h=function(e,t){if(0!==e){for(var n in console.log("Комплекты:",t),t.answ){var o=t.answ[n];if(0===o.del){var a=o.uin,r=o.name;b(a,r,"tb_sets")}}}},b=function(e,t,n){var o=document.getElementById(n).insertRow(-1);o.classList="tr";var a=o.insertCell(0);a.classList="td";var r=o.insertCell(1);r.classList="td";var c=o.insertCell(2);c.classList="td",a.innerHTML='<input type="checkbox" class="checkbox" id="set_'.concat(e,'" name="').concat(e,'" value="').concat(t,'"><label for="set_').concat(e,'"></label>'),r.innerHTML=t,c.innerHTML='<input class="input__type-text input__type-text_title" type="text" id="input_set_'.concat(e,'" name="').concat(e,'">')},w=function(e,t){if(0!==e){for(var n in console.log("Изделия:",t),t.answ){var o=t.answ[n];if(0===o.del){var a=o.uin,r=o.name;E(a,r,"tb_products")}}}},E=function(e,t,n){var o=document.getElementById(n).insertRow(-1);o.classList="tr";var a=o.insertCell(0);a.classList="td";var r=o.insertCell(1);r.classList="td";var c=o.insertCell(2);c.classList="td",a.innerHTML='<input type="checkbox" class="checkbox" id="product_'.concat(e,'" name="').concat(e,'" value="').concat(t,'"><label for="product_').concat(e,'"></label>'),r.innerHTML=t,c.innerHTML='<input class="input__type-text input__type-text_title" type="text" id="input_product_'.concat(e,'" name="').concat(e,'">')};function L(e,t){if(0!==e){console.log("Контрагенты:",t);for(var n in t.answ){var o=t.answ[n];k(o.name,o.del,o.uin,"task_contragents")}}}function k(e,t,n,o){var a=document.getElementById(o);if(0===t){var r=new Option(e,n);a.append(r)}}window.onload=function(){y({user:"demo",meth:"view",obj:"sets",count:"100"},h),y({user:"demo",meth:"view",obj:"products",count:"100"},w),y({user:"demo",meth:"view",obj:"contragents",count:"100"},L)}})()})();